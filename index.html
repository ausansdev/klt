<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>klt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <meta property="og:title" content="klt">
    <meta property="og:description" content="Fix your keyboard layout with ease.">
    <meta property="og:image" content="assets/preview.png">
    <meta property="og:url" content="https://ausansdev.github.io/klt/">
    <meta property="og:site_name" content="klt">
    <meta name="twitter:image:alt" content="klt - Keyboard Layout Fix">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="ru_RU">
    <meta property="og:locale:alternate" content="en_US">

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const userLang = navigator.language.startsWith("ru") ? "ru" : "en";
            setLanguage(userLang);
        });

        function setLanguage(lang) {
            const translations = {
                ru: { title: "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã", inputPlaceholder: "–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–º–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç...", outputLabel: "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:", themeToggle: "–¢–µ–º–∞", github: "–ü–µ—Ä–µ–π—Ç–∏ –≤ GitHub" },
                en: { title: "Keyboard Layout Fix", inputPlaceholder: "Enter broken text...", outputLabel: "Fixed text:", themeToggle: "Theme", github: "Go to GitHub" }
            };
            document.getElementById("title").innerText = translations[lang].title;
            document.getElementById("inputText").placeholder = translations[lang].inputPlaceholder;
            document.getElementById("outputLabel").innerText = translations[lang].outputLabel;
            document.getElementById("themeToggle").title = translations[lang].themeToggle;
        }

        function fixKeyboardLayout(text) {
            const layoutMap = {
                'q': '–π', 'w': '—Ü', 'e': '—É', 'r': '–∫', 't': '–µ', 'y': '–Ω', 'u': '–≥', 'i': '—à', 'o': '—â', 'p': '–∑', '[': '—Ö', ']': '—ä',
                'a': '—Ñ', 's': '—ã', 'd': '–≤', 'f': '–∞', 'g': '–ø', 'h': '—Ä', 'j': '–æ', 'k': '–ª', 'l': '–¥', ';': '–∂', "'": '—ç',
                'z': '—è', 'x': '—á', 'c': '—Å', 'v': '–º', 'b': '–∏', 'n': '—Ç', 'm': '—å', ',': '–±', '.': '—é', '/': '.',
                'Q': '–ô', 'W': '–¶', 'E': '–£', 'R': '–ö', 'T': '–ï', 'Y': '–ù', 'U': '–ì', 'I': '–®', 'O': '–©', 'P': '–ó', '{': '–•', '}': '–™',
                'A': '–§', 'S': '–´', 'D': '–í', 'F': '–ê', 'G': '–ü', 'H': '–†', 'J': '–û', 'K': '–õ', 'L': '–î', ':': '–ñ', '"': '–≠',
                'Z': '–Ø', 'X': '–ß', 'C': '–°', 'V': '–ú', 'B': '–ò', 'N': '–¢', 'M': '–¨', '<': '–ë', '>': '–Æ', '?': ',',
            };
            return text.split('').map(char => layoutMap[char] || char).join('');
        }

        function updateText() {
            const inputText = document.getElementById('inputText').value;
            document.getElementById('outputText').innerText = fixKeyboardLayout(inputText);
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            text-align: center;
            padding: 50px;
            transition: background 0.3s, color 0.3s;
        }
        .theme-btn, .lang-btn, .github-btn {
            position: fixed;
            background: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: inherit;
        }
        .theme-btn { top: 15px; left: 15px; }
        .lang-btn { top: 15px; right: 15px; }
        .github-btn { bottom: 15px; left: 15px; }
        textarea {
            width: 80%;
            height: 100px;
            font-size: 16px;
            padding: 10px;
            border-radius: 10px;
            border: 1px solid #ccc;
            font-family: 'Inter', sans-serif;
        }
        p {
            font-size: 18px;
            margin-top: 20px;
        }
        .dark-mode {
            background: #121212;
            color: white;
        }
        .dark-mode textarea {
            background: #222;
            color: white;
            border: 1px solid #444;
        }
    </style>
</head>
<body>
    <button class="theme-btn" id="themeToggle" onclick="toggleTheme()"><i class="fas fa-adjust"></i></button>
    <button class="lang-btn" onclick="setLanguage('ru')">üá∑üá∫</button>
    <button class="lang-btn" style="right: 60px;" onclick="setLanguage('en')">üá∫üá∏</button>
    <a href="https://github.com/ausansdev/klt" class="github-btn" target="_blank"><i class="fab fa-github"></i></a>
    <h2 id="title">–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã</h2>
    <textarea id="inputText" oninput="updateText()" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–º–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç..."></textarea>
    <p><strong id="outputLabel">–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:</strong></p>
    <p id="outputText"></p>
</body>
</html>
